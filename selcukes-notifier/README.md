# Selcukes Notifier

[![Maven Central](https://img.shields.io/maven-central/v/io.github.selcukes/selcukes-notifier.svg?label=Maven%20Central)](https://search.maven.org/search?q=g:%22io.github.selcukes%22%20AND%20a:%22selcukes-notifier%22)
[![Build Status](https://travis-ci.org/selcukes/selcukes-notifier.svg?branch=master)](https://travis-ci.org/selcukes/selcukes-notifier)
[![Codacy Badge](https://app.codacy.com/project/badge/Grade/b75cd866e64b4111a5ca7a076b8cca68)](https://www.codacy.com/gh/selcukes/selcukes-notifier?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=selcukes/selcukes-notifier&amp;utm_campaign=Badge_Grade)
[![Vulnerability](https://sonarcloud.io/api/project_badges/measure?project=selcukes_selcukes-notifier&metric=vulnerabilities)](https://sonarcloud.io/dashboard?id=selcukes_selcukes-notifier)
[![Coverage](https://sonarcloud.io/api/project_badges/measure?project=selcukes_selcukes-notifier&metric=coverage)](https://sonarcloud.io/dashboard?id=selcukes_selcukes-notifier)
[![Duplicated Lines (%)](https://sonarcloud.io/api/project_badges/measure?project=selcukes_selcukes-notifier&metric=duplicated_lines_density)](https://sonarcloud.io/dashboard?id=selcukes_selcukes-notifier)
[![badge-jdk](https://img.shields.io/badge/jdk-11-green.svg)](http://www.oracle.com/technetwork/java/javase/downloads/index.html)
[![License badge](https://img.shields.io/badge/license-Apache%202.0-blue.svg?label=License)](http://www.apache.org/licenses/LICENSE-2.0)

selcukes-notifier helps to send notifications using Slack and Microsoft Teams.

To use add the `selcukes-notifier` dependency to your pom.xml:

```xml
<dependencies>
  [...]
    <dependency>
        <groupId>io.github.selcukes</groupId>
        <artifactId>selcukes-notifier</artifactId>
        <version>${selcukes-notifier.version}</version>
    </dependency>
  [...]
</dependencies>

```

## Test Result Notifications

Currently, we moved to On premises environments. To view HTML report generated by automation scripts we need to connect
to the different VPNâ€™s to open the report and check the related screenshots to see which test case has failed and why.
So, why not raise an alert as soon as the test case fails? And why not attach a screenshot along with that alert so that
all the stakeholders can actually see what has failed in the application?

## Usage

Add selcukes.yaml and update below config

```yaml
# Selcukes Environment Properties
---
projectName: Test Automation Report
env: QA01
notifier:
  type: teams
  webhook-token: WEBXXX
  api-token: APIXXXX
  channel: selcukes
  authorIcon: https://avatars0.githubusercontent.com/u/2510294?s=400&u=5d6412ba1dd13052992ff66317ae28d007a971d3&v=4

```

```java
package io.github.selcukes.notifier.tests;

import io.github.selcukes.commons.os.Platform;
import io.github.selcukes.notifier.NotifierFactory;
import org.testng.annotations.Test;

public class NotifierTest {
    @Test
    public void testNotifications() {
        if (Platform.isWindows()) {
            NotifierFactory.getNotifier()
                    .scenarioName("This is sample scenario")
                    .scenarioStatus("FAILED")
                    .stepDetails("This is sample test step")
                    .errorMessage("NullPointerException")
                    .path("")
                    .pushNotification();
        }
    }
}
```